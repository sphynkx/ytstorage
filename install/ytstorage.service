[Unit]
Description=YtStorage gRPC Service
After=network.target network-online.target
Wants=network-online.target

[Service]
Type=simple
User=root
Group=root

WorkingDirectory=/opt/ytstorage

ExecStart=/opt/ytstorage/.venv/bin/python main.py

# --- Critical Service ---
Restart=always
RestartSec=3
StartLimitIntervalSec=10
StartLimitBurst=5

StandardOutput=journal
StandardError=journal
SyslogIdentifier=ytstorage

# Environment=PYTHONUNBUFFERED=1

[Install]
WantedBy=multi-user.target